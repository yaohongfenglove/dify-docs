# 開始

### 定義

**“開始”** ノードは、すべてのワークフローアプリ（Chatflow / Workflow）に必須のデフォルトノードであり、後続のワークフローノードやアプリの正常なプロセスに必要な初期情報を提供します。これには、アプリの使用者が入力した内容や、[アップロードされたファイル](../file-upload.md)などが含まれます。

### ノードの設定

開始ノードの設定ページでは、**“入力フィールド”**とデフォルトの[**システム変数**](../variables.md#xi-tong-bian-liang)という二つの設定部分が見られます。

<figure><img src="../../../.gitbook/assets/image (383).png" alt=""><figcaption><p>Chatflow と Workflow</p></figcaption></figure>

### 入力フィールド

入力フィールドの機能はアプリ開発者によって設定され、通常はアプリの使用者がさらに情報を提供するために使用されます。例えば、週次報告アプリでは、使用者に対して名前、作業期間、作業内容などの背景情報をあらかじめフォーマットに従って提供するよう求めることがあります。これらの前提情報は、LLM（大規模言語モデル）がより質の高い回答を生成するのに役立ちます。

{% @arcade/embed flowId="z9BJ3Gg8jwjxpdQAwOGf" url="https://app.arcade.software/share/z9BJ3Gg8jwjxpdQAwOGf" %}

以下の6種類の入力変数をサポートしており、すべての変数は必須項目として設定可能です：

*   **テキスト**

    短いテキストで、アプリ使用者が自分で内容を入力します。最大文字数は256文字です。
*   **段落**

    長文で、アプリ使用者が長いテキストを入力することができます。
*   **ドロップダウンオプション**

    アプリ開発者によって固定された選択肢で、アプリ使用者は設定された選択肢の中からのみ選ぶことができ、自由に内容を入力することはできません。
*   **数字**

    数字のみの入力を許可します。
*   **単一ファイル**

    アプリ使用者が単独でファイルをアップロードできる機能で、サポートされるファイルタイプは文書、画像、音声、動画、その他のファイルです。ローカルからのファイルアップロードやファイルのURLを貼り付けてのアップロードが可能です。詳細な使い方については[ファイルアップロード](../file-upload.md)を参照してください。
*   **ファイルリスト**

    アプリ使用者が複数のファイルを一括でアップロードできる機能で、サポートされるファイルタイプは文書、画像、音声、動画、その他のファイルです。ローカルからのファイルアップロードやファイルのURLを貼り付けてのアップロードが可能です。詳細な使い方については[ファイルアップロード](../file-upload.md)を参照してください。

{% hint style="info" %}
Difyに組み込まれているファイル抽出ノードは、特定のフォーマットファイルのみを処理できます。画像、音声、動画ファイルを処理する必要がある場合は、[外部データツール](../../extension/api-based-extension/external-data-tool.md)を参照し、対応するファイル処理ノードを構築してください。
{% endhint %}

設定が完了した後、使用者はアプリを使用する前に、入力項目に従ってLLMに必要な情報を提供します。より多くの情報がLLMの質問応答効率を向上させるのに役立ちます。

<figure><img src="../../../.gitbook/assets/image.png" alt=""><figcaption></figcaption></figure>

### システム変数

システム変数は、Chatflow / Workflowアプリ内であらかじめ設定されたシステムレベルのパラメータであり、アプリ内の他のノードからグローバルに読み取ることができます。通常は、高度な開発シナリオで使用され、たとえば多段階対話アプリの構築、アプリのログ収集と監視、異なるアプリや使用者の使用行動の記録などに利用されます。

**Workflow**

Workflowタイプのアプリは以下のシステム変数を提供します：

| 変数名                     | データタイプ     | 説明                                                                                                   | メモ                        |
| ------------------------ | ------------ | ----------------------------------------------------------------------------------------------------- | ------------------------- |
| `sys.files`             | Array[File]  | ファイルパラメータで、ユーザーがアプリを使用する際にアップロードした画像を保存します。複数の画像をアップロードできます。このパラメータは今後廃止予定であり、「入力フィールド」内のファイル変数の使用を推奨します。 | 画像アップロード機能は、アプリの編成ページの右上にある「機能」で有効にする必要があります。 |
| `sys.user_id`          | String       | ユーザーIDで、各ユーザーがワークフローアプリを使用する際に、システムが自動的に一意の識別子を割り当てて、異なる対話ユーザーを区別します。 |                           |
| `sys.app_id`           | String       | アプリIDで、システムが各Workflowアプリに一意の識別子を割り当て、異なるアプリを区別し、このパラメータを通じて現在のアプリの基本情報を記録します。 | 開発能力のあるユーザー向けで、このパラメータを通じて異なるWorkflowアプリを区別・特定できます。 |
| `sys.workflow_id`      | String       | Workflow IDで、現在のWorkflowアプリに含まれるすべてのノード情報を記録します。 | 開発能力のあるユーザー向けで、このパラメータを通じてWorkflow内のノード情報を追跡・記録できます。 |
| `sys.workflow_run_id`  | String       | Workflowアプリの実行IDで、Workflowアプリの運用状況を記録します。 | 開発能力のあるユーザー向けで、このパラメータを通じてアプリの過去の実行状況を追跡できます。 |

<figure><img src="https://docs.dify.ai/~gitbook/image?url=https%3A%2F%2F1288284732-files.gitbook.io%2F%7E%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FCdDIVDY6AtAz028MFT4d%252Fuploads%252FrN6uw5MOfjV2xsDnQsV1%252Fimage.png%3Falt%3Dmedia%26token%3D309a9336-7bd7-4ef6-8621-779538245e25&#x26;width=768&#x26;dpr=4&#x26;quality=100&#x26;sign=9d7d625a&#x26;sv=1" alt=""><figcaption><p>Workflowタイプアプリのシステム変数</p></figcaption></figure>

**Chatflow**

Chatflowタイプのアプリは以下のシステム変数を提供します：

| 変数名                     | データタイプ     | 説明                                                                                                   | メモ                        |
| ------------------------ | ------------ | ----------------------------------------------------------------------------------------------------- | ------------------------- |
| `sys.query`             | String       |                                                                                                       |                           |

<最初の翻訳の問題点>
直訳には明白な誤りはありません。